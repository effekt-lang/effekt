effect yield(n: Int): Unit

def asList { body: => Unit / yield }: List[Int] =
  try { body(); [] } with yield { n =>
    Cons(n, resume(()))
  }

def main() = {
  val myList = { do yield(10); do yield(20) }.asList
  println(myList)
}